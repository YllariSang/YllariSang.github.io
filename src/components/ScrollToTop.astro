---

---

<button id="scroll-to-top" title="Go to top" aria-label="Scroll to top">
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="3"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path d="M12 19V5M5 12l7-7 7 7"></path>
  </svg>
</button>

<style>
  #scroll-to-top {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 100;
    background-color: rgba(34, 197, 94, 0.7);
    color: #f0f6fc;
    border: none;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px);
    transition:
      opacity 0.3s ease,
      visibility 0.3s ease,
      transform 0.3s ease;
    backdrop-filter: blur(5px);
  }

  #scroll-to-top.visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  #scroll-to-top:hover {
    background-color: #22c55e;
  }
</style>

<script>
  const button = document.getElementById("scroll-to-top");

  document.addEventListener("astro:page-load", () => {
    const scrollThreshold = window.innerHeight * 0.5;

    window.addEventListener("scroll", () => {
      button?.classList.toggle("visible", window.scrollY > scrollThreshold);
    });
  });

  button?.addEventListener("click", (e) => {
    e.preventDefault();

    const startPosition = window.pageYOffset;
    const distance = -startPosition;
    const duration = 1000;
    let startTime: number | null = null;

    const easeOutBounce = (x: number): number => {
      const n1 = 7.5625;
      const d1 = 2.75;

      if (x < 1 / d1) {
        return n1 * x * x;
      } else if (x < 2 / d1) {
        return n1 * (x -= 1.5 / d1) * x + 0.75;
      } else if (x < 2.5 / d1) {
        return n1 * (x -= 2.25 / d1) * x + 0.9375;
      } else {
        return n1 * (x -= 2.625 / d1) * x + 0.984375;
      }
    };

    function animateScroll(currentTime: number) {
      if (!startTime) startTime = currentTime;
      const timeElapsed = currentTime - startTime;
      const progress = Math.min(timeElapsed / duration, 1);
      const easedProgress = easeOutBounce(progress);

      window.scrollTo(0, startPosition + distance * easedProgress);

      if (timeElapsed < duration) {
        requestAnimationFrame(animateScroll);
      }
    }

    requestAnimationFrame(animateScroll);
  });
</script>
